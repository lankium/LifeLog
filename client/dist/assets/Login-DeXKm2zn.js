import{_ as b}from"./头像-DdDGYOyU.js";import{a as w}from"./index-Bh8HNN-r.js";import{_ as V,r as m,u as h,c as S,a as o,b as s,w as l,d as x,e as n,o as y,f as I,p as k,g as C}from"./index-BS0UJBSP.js";const c=t=>(k("data-v-3149443b"),t=t(),C(),t),N={class:"login"},B=c(()=>o("h1",null,"登录",-1)),q={class:"login-wrapper"},L=c(()=>o("div",{class:"avatar"},[o("img",{src:b,alt:""})],-1)),U={style:{margin:"16px"}},E={__name:"Login",setup(t){const u=m(""),p=m(""),d=h(),_=async a=>{console.log("submit",a);const e=await w.post("/user/login",{username:a.username,password:a.password});sessionStorage.setItem("userInfo",JSON.stringify(e.data)),sessionStorage.setItem("token",e.token),d.push("/noteClass")};return(a,e)=>{const i=n("van-field"),v=n("van-cell-group"),f=n("van-button"),g=n("van-form");return y(),S("div",N,[B,o("div",q,[L,s(g,{onSubmit:_},{default:l(()=>[s(v,{inset:""},{default:l(()=>[s(i,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=r=>u.value=r),name:"username",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),s(i,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=r=>p.value=r),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),o("div",U,[s(f,{round:"",block:"",type:"primary","native-type":"submit"},{default:l(()=>[I(" 登录 ")]),_:1})])]),_:1})]),o("p",{class:"register",onClick:e[2]||(e[2]=()=>x(d).push("/register"))},"新用户?点击这里注册")])}}},T=V(E,[["__scopeId","data-v-3149443b"]]);export{T as default};
